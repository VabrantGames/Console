apply plugin: 'java-library'
apply plugin: 'maven'

sourceSets.main.resources.srcDirs += [ rootProject.file('assets').path ]
eclipse.project.name = rootProject.name + '-core'

ext{
	testClassName = "com.vabrant.console.ConsoleTestApplication"
    artifactId = "console"
}

group = "com.github.vabrant.console"
//version = "$version"
version = "local-test"

dependencies{
    implementation "com.badlogicgames.gdx:gdx:$gdxVersion"
	implementation "com.github.VabrantGames:ActionSystem:v0.1.1-alpha"
	
	testImplementation "com.badlogicgames.gdx:gdx-backend-lwjgl:$gdxVersion"
	testImplementation "com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-desktop"
	testImplementation('org.junit.jupiter:junit-jupiter:5.+')
}

task sourceJar(type: Jar){
    from sourceSets.main.allSource
    archiveClassifier = "sources"
}

task javadocJar(type: Jar, dependsOn: javadoc){
    from javadoc.destinationDir
    archiveClassifier = "javadoc"
}

artifacts{
	archives sourceJar
	archives javadocJar
}

install{
	repositories{
	}
}

task runTest(dependsOn: classes, type: JavaExec){
	    main = project.ext.testClassName
	    classpath = sourceSets.main.runtimeClasspath += sourceSets.test.runtimeClasspath
	    workingDir = project.file("src/test/resources").path
	    standardInput = System.in
	    ignoreExitValue = true
}

